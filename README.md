# CLIPç”»åƒæ¤œç´¢ãƒ‡ãƒ¢ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

CLIPï¼ˆContrastive Language-Image Pre-trainingï¼‰ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ç”¨ã—ãŸæ—¥æœ¬èªå¯¾å¿œã®ç”»åƒæ¤œç´¢ãƒ‡ãƒ¢ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

## ğŸš€ ãƒ‡ãƒ¢ã‚µã‚¤ãƒˆ

**â†’ [ãƒ©ã‚¤ãƒ–ãƒ‡ãƒ¢ã¯ã“ã¡ã‚‰](https://your-app-url.streamlit.app/)** *(ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã«URLã‚’æ›´æ–°)*

## âœ¨ æ©Ÿèƒ½

- **ğŸ” è‡ªç„¶è¨€èªæ¤œç´¢**: æ—¥æœ¬èªã§ç”»åƒã‚’æ¤œç´¢
- **ğŸ–¼ï¸ ã‚®ãƒ£ãƒ©ãƒªãƒ¼è¡¨ç¤º**: ã‚«ãƒ†ã‚´ãƒªåˆ¥ã®ç”»åƒä¸€è¦§
- **ğŸ“Š çµ±è¨ˆæƒ…å ±**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å†…ã®ç”»åƒçµ±è¨ˆ
- **ğŸ“± ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³**: ãƒ¢ãƒã‚¤ãƒ«ãƒ»ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—å¯¾å¿œ

## ğŸ¯ ä½¿ç”¨ä¾‹

```
æ¤œç´¢ä¾‹:
- "é»’ã„å‚˜"
- "èµ¤ã„ãƒãƒƒã‚°"
- "ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³"
- "é’ã„ã‚¿ã‚ªãƒ«"
```

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: Streamlit
- **æ©Ÿæ¢°å­¦ç¿’**: CLIP-Japanese (line-corporation/clip-japanese-base)
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: SQLite + sqlite-vec
- **ç”»åƒå‡¦ç†**: PIL, OpenCV
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: Python 3.10+

## ğŸ“¦ ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œ

### å‰ææ¡ä»¶
- Python 3.10+
- pip

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

1. ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
```bash
git clone https://github.com/[username]/[repository].git
cd [repository]
```

2. ä»®æƒ³ç’°å¢ƒã®ä½œæˆãƒ»ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆ
```bash
python -m venv venv
# Windows
venv\Scripts\activate
# macOS/Linux  
source venv/bin/activate
```

3. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
pip install -r requirements.txt
```

4. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ä½œæˆï¼ˆåˆå›ã®ã¿ï¼‰
```bash
python batch_vectorize.py
```

5. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®èµ·å‹•
```bash
streamlit run app.py
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://localhost:8501` ã«ã‚¢ã‚¯ã‚»ã‚¹

## ğŸŒ ãƒ‡ãƒ—ãƒ­ã‚¤

### Streamlit Community Cloudï¼ˆæ¨å¥¨ï¼‰

1. GitHubã«ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ—ãƒƒã‚·ãƒ¥
2. [share.streamlit.io](https://share.streamlit.io/) ã§ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ
3. ãƒªãƒã‚¸ãƒˆãƒªã‚’é¸æŠã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤

è©³ç´°ã¯ [README_DEPLOY.md](README_DEPLOY.md) ã‚’å‚ç…§

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
clip-demo/
â”œâ”€â”€ app.py                    # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ clip_feature_extractor.py # CLIPç‰¹å¾´é‡æŠ½å‡º
â”œâ”€â”€ database_utils.py         # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ
â”œâ”€â”€ database_setup.py         # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®š
â”œâ”€â”€ batch_vectorize.py        # ãƒãƒƒãƒå‡¦ç†
â”œâ”€â”€ requirements.txt          # Pythonä¾å­˜é–¢ä¿‚
â”œâ”€â”€ packages.txt             # ã‚·ã‚¹ãƒ†ãƒ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
â”œâ”€â”€ image_vectors.db         # SQLiteãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
â”œâ”€â”€ .streamlit/
â”‚   â””â”€â”€ config.toml          # Streamlitè¨­å®š
â””â”€â”€ data/
    â””â”€â”€ img/                 # ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«
        â”œâ”€â”€ ã‚«ã‚µ/
        â”œâ”€â”€ ã‚µã‚¤ãƒ•/
        â”œâ”€â”€ ã‚¹ãƒãƒ›/
        â”œâ”€â”€ ã‚¿ã‚ªãƒ«/
        â””â”€â”€ ãƒãƒƒã‚°/
```

## ğŸ”§ è¨­å®š

### ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

- ç”»åƒã‚«ãƒ†ã‚´ãƒªã®è¿½åŠ : `data/img/` ã«æ–°ã—ã„ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆ
- ãƒ¢ãƒ‡ãƒ«ã®å¤‰æ›´: `clip_feature_extractor.py` ã®ãƒ¢ãƒ‡ãƒ«ãƒ‘ã‚¹ã‚’ä¿®æ­£
- UIã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º: `app.py` ã®CSSã‚’ç·¨é›†

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹èª¿æ•´

- ãƒãƒƒãƒã‚µã‚¤ã‚º: ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã«å¿œã˜ã¦èª¿æ•´
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥è¨­å®š: Streamlitã® `@st.cache_resource` ã‚’æ´»ç”¨

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æƒ…å ±

- **å½¢å¼**: SQLite + sqlite-vecæ‹¡å¼µ
- **ã‚µã‚¤ã‚º**: ç´„2.2MB
- **ç”»åƒæ•°**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚ˆã£ã¦ç•°ãªã‚‹
- **ãƒ™ã‚¯ãƒˆãƒ«æ¬¡å…ƒ**: 512æ¬¡å…ƒ (CLIP-Japanese)

## ğŸš¨ åˆ¶é™äº‹é …

- **Streamlit Community Cloud**: CPU 1GB RAMåˆ¶é™
- **åˆå›èµ·å‹•**: CLIPãƒ¢ãƒ‡ãƒ«èª­ã¿è¾¼ã¿ã§2-3åˆ†
- **åŒæ™‚æ¥ç¶š**: è¤‡æ•°ãƒ¦ãƒ¼ã‚¶ãƒ¼å¯¾å¿œã ãŒæ€§èƒ½ã¯é™å®šçš„

## ğŸ¤ è²¢çŒ®

1. ãƒ•ã‚©ãƒ¼ã‚¯ã‚’ä½œæˆ
2. ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ (`git checkout -b feature/AmazingFeature`)
3. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ (`git commit -m 'Add some AmazingFeature'`)
4. ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ (`git push origin feature/AmazingFeature`)
5. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ã‚‚ã¨ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ™ è¬è¾

- [CLIP-Japanese](https://huggingface.co/line-corporation/clip-japanese-base) by LINE Corporation
- [sqlite-vec](https://github.com/asg017/sqlite-vec) by Alex Garcia
- [Streamlit](https://streamlit.io/) ãƒãƒ¼ãƒ 

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã€[Issues](https://github.com/[username]/[repository]/issues) ã§ãŠçŸ¥ã‚‰ã›ãã ã•ã„ã€‚ 